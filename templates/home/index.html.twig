{% extends 'base.html.twig' %}

{% block title %}{{ title }}{% endblock %}

{% block body %}
    <ul class="list-group m-4">
        <li class="list-group-item list-group-item-info">Studentai</li>
        {% if studentArray %}
            {% for key in studentArray|keys %}
                {% for student in studentArray[key]['students'] %}
                    <li class="list-group-item">
                        <a href="{{ path('student', {'name': student, 'project': key}) }}">
                            {{ student }}
                        </a>
                        (
                        <span class="badge">Mentorius</span>
                        {% for mentor in studentArray[key]['mentors'] %}
                            {{ mentor }}
                        {% endfor %}
                        )
                    </li>
                {% endfor %}
            {% endfor %}
        {% else %}
            <li class="list-group-item">
                Įrašų nėra!
            </li>
        {% endif %}
    </ul>
    <div class="m-4">
        <form action="{{ path('student') }}" method="get">
            <div class="input-group">
                <input name="name" type="text" class="form-control" placeholder="Studentas"/>
            </div>
            <div class="input-group">
                <input name="project" type="text" class="form-control" placeholder="Projektas"/>
            </div>
            <button type="submit" class="btn btn-success">Sužinoti vertinimą</button>
        </form>
    </div>
    <ul class="list-group m-4">
        <li class="list-group-item list-group-item-info">Projektai</li>
        {% if projectArray %}
            {% for key in projectArray|keys %}
                <li class="list-group-item">
                    <h3>{{ projectArray[key]['name'] }}</h3>
                    <div class="panel panel-default">
                        <div>
                            <a target="_blank" href="{{ projectArray[key]['github'] }}">
                                {{ projectArray[key]['githubDecode']|replace
                                    ({
                                        'https://': '',
                                        'http://': '',
                                        'www.': ''
                                    })
                                }}
                            </a>
                            <span class="badge">GitHub</span>
                        </div>
                        <div>
                            <a target="_blank" href="{{ projectArray[key]['web'] }}">
                                {{ projectArray[key]['webDecode']|replace
                                    ({
                                        'https://': '',
                                        'http://': '',
                                        'www.': ''
                                    })
                                }}
                            </a>
                            <span class="badge">Web</span>
                        </div>
                        <div>
                            <pre>{{ projectArray[key]['ssh'] }}</pre>
                        </div>
                    </div>
                </li>
            {% endfor %}
        {% else %}
            <li class="list-group-item">
                Įrašų nėra!
            </li>
        {% endif %}
    </ul>
    <div class="m-4">
        <a class="text-light" href="{{ studentFileName }}">Duomenų failas</a>
    </div>
{% endblock %}